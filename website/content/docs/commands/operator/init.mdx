---
layout: docs
page_title: operator init - Command
description: |-
  The "operator init" command initializes a Vault server. Initialization is the
  process by which Vault's storage backend is prepared to receive data. Since
  Vault servers share the same storage backend in HA mode, you only need to
  initialize one Vault to initialize the storage backend.
---

# operator init

Initializes a Vault server.

<CodeBlockConfig hideClipboard>

```shell-session
$ vault operator init [flags]

$ vault operator init [-help | -h]
```

</CodeBlockConfig>

## Description

`operator init` initializes a Vault server. Initialization is the
process by which Vault's storage backend is prepared to receive data. Since
Vault servers share the same storage backend in HA mode, you only need to
initialize one Vault to initialize the storage backend.

You cannot run this command against an already-initialized Vault cluster.

Vault generates an in-memory root key and applies Shamir's secret sharing
algorithm to disassemble that root key into a configuration number of key
shares such that a configurable subset of those key shares must come together
to regenerate the root key. These keys are called "unseal keys".

During initialization, Vault generates an in-memory root key, which is stored
in the storage backend alongside all other Vault data. The root key itself is
encrypted and requires an _unseal key_ to decrypt it.

The default Vault configuration uses
[Shamir's Secret Sharing](https://en.wikipedia.org/wiki/Shamir%27s_Secret_Sharing)
to split the root key into a configured number of shards (referred as key
shares, or unseal keys). A certain threshold of shards is required to
reconstruct the root key, which is then used to decrypt the Vault's encryption
key.

Refer to the [Seal/Unseal](/vault/docs/concepts/seal#seal-unseal) documentation
for further details.

## Command arguments

None.

## Command options

None.

## Command flags

<br />

@include 'cli/operator/flags/key-shares.mdx'

<br /><hr /><br />

@include 'cli/operator/flags/key-threshold.mdx'

<br /><hr /><br />
@include 'cli/operator/flags/init-pgp-key.mdx'

<br /><hr /><br />

@include 'cli/operator/flags/root-token-pgp-key.mdx'

<br /><hr /><br />

@include 'cli/operator/flags/status.mdx'

<br /><hr /><br />

@include 'cli/operator/flags/stored-shares.mdx'

<br /><hr /><br />

@include 'cli/operator/flags/consul-auto.mdx'

<br /><hr /><br />

@include 'cli/operator/flags/consul-service.mdx'

<br /><hr /><br />

@include 'cli/operator/flags/recovery-pgp-keys.mdx'

<br /><hr /><br />

@include 'cli/operator/flags/recovery-shares.mdx'

<br /><hr /><br />

@include 'cli/operator/flags/recovery-threshold.mdx'

## Global flags

<br />

@include 'cli/standard-settings/all-standard-flags.mdx'

## Examples

Start initialization with the default options:

```shell-session
$ vault operator init
```

Initialize, but encrypt the unseal keys with pgp keys:

```shell-session
$ vault operator init \
    -key-shares 3 \
    -key-threshold 2 \
    -pgp-keys "keybase:hashicorp,keybase:jefferai,keybase:sethvargo"
```

Initialize Auto Unseal with a non-default threshold and number of recovery keys, and encrypt the recovery keys with pgp keys:

```shell-session
$ vault operator init \
    -recovery-shares 7 \
    -recovery-threshold 4 \
    -recovery-pgp-keys "keybase:jeff,keybase:chris,keybase:brian,keybase:calvin,keybase:matthew,keybase:vishal,keybase:nick"
```

Encrypt the initial root token using a pgp key:

```shell-session
$ vault operator init -root-token-pgp-key "keybase:hashicorp"
```