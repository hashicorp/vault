---
layout: docs
page_title: write - Command
description: |-
  The "write" command writes data to Vault at the given path. The data can be
  credentials, secrets, configuration, or arbitrary data. The specific behavior
  of this command is determined at the thing mounted at the path.
---

# write

Writes data to Vault at the given path.

<CodeBlockConfig hideClipboard>

```shell-session
$ vault write [flags] <path> <data key=value...>

$ vault write [-help | -h]
```

</CodeBlockConfig>

## Description

`write` writes data to Vault at the given path. The data can be credentials, 
secrets, configuration, or arbitrary data. The specific behavior of the `write` 
command is determined at the thing mounted at the path.

You can specify data as `key=value` pairs. If the value begins with an `@`, 
Vault will load the value from a file. If the value for a key is `-`, Vault 
will read the value from stdin rather than the command line.

### API versus CLI

The `write` command is a wrapper for the HTTP PUT or POST. Some API fields 
require more advanced structures such as maps. You cannot directly represent 
these on the command line. However, you can achieve direct control of the request 
parameters by using `-` as the only data argument. Using `-` tells `vault write` 
to read a JSON blob containing all request parameters from stdin. Vault will
ignore `-` if you use it with any `key=value` pairs.

For example, the following command creates a token with TTL set to 8 hours, 
limited to 3 uses, and attach `admin` and `secops` policies:

```shell-session
$ vault write auth/token/create policies="admin" policies="secops" ttl=8h num_uses=3
```

The following cURL command is equivalent to the `vault write` command:

```shell-session
$ curl --header "X-Vault-Token: $VAULT_TOKEN" \
    --request POST \
    --data @request_payload.json \
    $VAULT_ADDR/v1/auth/token/create
```

The request payload is a JSON blob that contains all the request parameters.

<CodeBlock filename="request_payload.json" hideClipboard>

```json
{
   "policies": ["admin", "secops"],
   "ttl": "8h",
   "num_uses": 3
}
```

</CodeBlock>

Since token management is a common task, you can also use 
[`vault token create`](/vault/docs/commands/token/create). The following example
creates a token with equivalent parameters:

```shell-session
$ vault token create -policy=admin -policy=secops -ttl=8h -use-limit=3
```

<Tip title="Related API endpoints">

  TODO: There are multiple API endpoints that support the same operations as the
  `vault write` command.

</Tip>

## Command arguments

<br />

@include 'cli/transit/args/path.mdx'

## Command options

After the required `path` argument, you can specify data as `key=value` pairs. 
If the value begins with an `@`, Vault will load the value from a file. If the 
value for a key is `-`, Vault will read the value from stdin rather than the 
command line.

Examples: `policies="admin"`, `ttl=5m`, `policy=@/path/to/policy.json`

## Command flags

<br />

@include 'cli/write/flags/field.mdx'

<br /><hr /><br />

@include 'cli/write/flags/force.mdx'

## Global flags

<br />

@include 'cli/standard-settings/all-standard-flags.mdx'

## Examples

Store an arbitrary secrets in the token's cubbyhole.

```shell-session
$ vault write cubbyhole/git-credentials username="student01" password="p@$$w0rd"
```

Create a new encryption key in the transit secrets engine without input data:

```shell-session
$ vault write -force transit/keys/my-key
```

Upload an AWS IAM policy from a file on disk:

```shell-session
$ vault write aws/roles/ops policy=@policy.json
```

Configure access to Consul by providing an access token:

```shell-session
$ echo $MY_TOKEN | vault write consul/config/access token=-
```

Set role-level TTL values for a user named "alice" so the generated lease has a
default TTL of 8 hours (28800 seconds) and maximum TTL of 12 hours
(43200 seconds):

```shell-session
$ VAULT_TOKEN=$VAULT_TOKEN vault write /auth/userpass/users/alice \
    token_ttl="8h" token_max_ttl="12h"
```