---
layout: docs
page_title: pki list-intermediates - Command
description: |-
  The "pki list-intermediates" command searches a mount, or set of mounts for
  child certificates.
---

# pki list-intermediates

Searches a mount, or set of mounts for child certificates.

<CodeBlockConfig hideClipboard>

```shell-session
$ vault pki list-intermediates [flags] <parent> [child] [child] [child...]

$ vault pki list-intermediates [-help | -h]
```

</CodeBlockConfig>

## Description

`pki list-intermediates` returns a list of issuing certificates and whether they 
are a match. By default, the type of match required is whether the `parent` has 
the expected subject, [authority/subject key id match](https://datatracker.ietf.org/doc/html/rfc5280#section-4.2.1.1), 
and could have (directly) signed this issuer. The match criteria can be updated 
by changed the corresponding flag.

<Tip title="Related API endpoints">

The Vault user running this command needs to have access to the following API 
endpoints, each representing a step in the process:

TODO: These links don't map to any API docs. Usually they're `/pki/issuer/...`

- `READ /:parent`
- `LIST /sys/mounts` - when no `[child]` argument is provided, this is used to
find a list of pki mounts
- `LIST /:child_mount/issuers/` - when no `[child]` argument is provided, or the
`[child]` argument is a mount rather than an issuer, this is used to find a list
of pki issuers on the mount
- `READ /:child` - each potential child issuer is read for comparison against
the parent

</Tip>

## Command arguments

<br />

@include 'cli/pki/args/list-intermediates-parent.mdx'

<br /><hr /><br />

@include 'cli/pki/args/list-intermediates-child.mdx'

## Command options

None.

## Command flags

<br />

@include 'cli/pki/flags/use_names.mdx'

<br /><hr /><br />

The following flags determine what sorts of relationship between the parent and 
potential child issuers are considered a match.

<br />

@include 'cli/pki/flags/direct_sign.mdx'

<br /><hr /><br />

@include 'cli/pki/flags/indirect_sign.mdx'

<br /><hr /><br />

@include 'cli/pki/flags/key_id_match.mdx'

<br /><hr /><br />

@include 'cli/pki/flags/path_match.mdx'

<br /><hr /><br />

@include 'cli/pki/flags/subject_match.mdx'

## Global flags

<br />

@include 'cli/standard-settings/all-standard-flags.mdx'

## Examples

List all intermediates issued by the default issuer:

```shell-session
$ vault pki list-intermediates /pki_root/issuer/default
intermediate                                             match?
------------                                             ------
pki_int_2/issuer/d4404ccc-3ad4-83a9-f5df-398637654b3b    true
pki_int_2/issuer/db0b0a6c-6641-ac15-363a-4e5261315581    true
pki_root/issuer/9464c4fe-e8a6-d96a-0566-021575e7382c     true
pki_int/issuer/2f958ec5-1838-336e-331b-07032379b958      true
pki_int/issuer/b8cc0b41-e0e9-1a92-12c4-6849c9d6f837      true
```
