---
layout: docs
page_title: kv destroy - Command
description: >-
  Update data for specific keys on a path in a key/value v2 secrets plugin.
---

# `kv patch`

<Note title="Version-specific command">

The `kv patch` command only works with key/value v2 plugins.

</Note>

Update specific values or add new key/value pairs to an existing data path in
a `kv` v2 plugin.

<CodeBlockConfig hideClipboard>

```shell-session
$ vault kv patch [flags] <secret_path> <key_value_pair> ...

$ vault kv patch [-help | -h]
```

</CodeBlockConfig>


## Description

`kv patch` updates data for specific keys on a given path in `kv` v2 plugins.
The data can be of any type. You can pass the data from the command line,
or from a file on disk (using the `@` symbol), or from stdin (using the `-`
symbol). The patch process is transactional. If any part of the patch process
fails, the entire update rolls back and returns an error.

By default, `kv patch` performs an HTTP `PATCH` operation. If your
policy does not allow `PATCH` operations, Vault attempts a
`read + local update + write` sequential workflow instead. You can force Vault
to use the sequential process with the `-method` flag.

The `read + local update + write` sequence is a more streamlined version of
using the `kv put` command with the existing data you want to preserve **and**
the data you want to change or add.

<Tip title="Related API endpoints">

  PatchSecret (v2) - [`PATCH: /:secret-mount-path/data/:path`](/vault/api-docs/secret/kv/kv-v2#patch-secret)

</Tip>



## Command arguments

<br />

@include 'cli/kv/args/secret_path.mdx'

<br /><hr /><br />

@include 'cli/kv/args/key_value_pair.mdx'



## Command options

None.



## Command flags

<br />

@include 'cli/kv/flags/cas.mdx'

<br /><hr /><br />

@include 'cli/shared/flags/field.mdx'

<br /><hr /><br />

@include 'cli/kv/flags/method.mdx'

<br /><hr /><br />

@include 'cli/shared/flags/mount.mdx'

<br /><hr /><br />

@include 'cli/kv/flags/remove-data.mdx'



## Global flags

<br />

@include 'cli/standard-settings/all-standard-flags.mdx'



## Examples

Add a new key/value pair, `ttl=48h`, to the existing data at the secret path
`creds`:

```shell-session
$ vault kv patch -mount=shared creds ttl=48h

== Secret Path ==
shared/data/creds

======= Metadata =======
Key              Value
---              -----
created_time     2019-06-06T16:46:22.090654Z
deletion_time    n/a
destroyed        false
version          6
```


Pass the data from a file on disk by prefixing with the "@" symbol:

```shell-session
$ vault kv patch -mount=secret creds @data.json
```

Pass the data using stdin by prefixing with the "-" symbol:

```shell-session
$ echo "abcd1234" | vault kv patch -mount=secret foo bar=-
```
