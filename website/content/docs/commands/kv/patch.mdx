---
layout: docs
page_title: kv patch - Command
description: |-
  The "kv patch" command writes the data to the given path in the key-value
  store. The data can be of any type.
---

# kv patch

<Note>

This is a [KV version 2](/vault/docs/secrets/kv/kv-v2) secrets engine command,
and not available for Version 1.

</Note>

Writes the data to the given path in the key-value store.

<CodeBlockConfig hideClipboard>

```shell-session
$ vault kv patch [flags] <key> [data]

$ vault kv patch [-help | -h]
```

</CodeBlockConfig>

`kv patch` writes the data to the given path in the KV v2 secrets
engine. The data can be of any type. You can pass the data from the command line,
or from a file on disk (using the `@` symbol), or from stdin (using the `-` symbol).

Unlike the `kv put` command, the `patch` command combines the change with 
existing data instead of replacing them. Therefore, this command makes it easy 
to make a partial updates to an existing data.

By default, this operation will attempt an HTTP PATCH operation. If your
policy does not allow that, it will fall back to a read/local update/write 
approach. If you wish to specify which method this command should use, you may 
do so with the `-method` flag. When `-method=patch` is specified, Vault will only 
attempt an HTTP PATCH operation. If it fails, the entire command will fail.

<Tip title="Related API endpoints">

PatchSecret (v2) - [`PATCH: /:secret-mount-path/data/:path`](/vault/api-docs/secret/kv/kv-v2#patch-secret)

</Tip>

### Exit codes

The Vault CLI follows consistent exit code conventions to indicate different 
types of errors:

- Exit code 1 indicates local errors, such as invalid flags, validation 
  failures, or incorrect number of arguments.

- Exit code 2 indicates remote errors, such as API failures, TLS issues, or 
  invalid API parameters.

Some commands may use different exit codes for specific scenarios. When this 
occurs, the different behavior is clearly documented in the command's 
documentation.

## Command arguments

<br />

@include 'cli/kv/args/key.mdx'

## Command options

After the required `key` argument, you can specify data as additional options in 
`key=value` format. If the value begins with an `@`, Vault will load the value 
from a file. If the value for a key is `-`, Vault will read the value from 
stdin rather than the command line.

Examples: `bar=baz`, `@data.json`, `bar=-`

## Command flags

<br />

@include 'cli/shared/flags/field.mdx'

<br /><hr /><br />

@include 'cli/kv/flags/cas.mdx'

<br /><hr /><br />

@include 'cli/kv/flags/method.mdx'

<br /><hr /><br />

@include 'cli/kv/flags/mount.mdx'

<br /><hr /><br />

@include 'cli/kv/flags/remove-data.mdx'

## Global flags

<br />

@include 'cli/standard-settings/all-standard-flags.mdx'

## Examples

Add an additional key-value (`ttl=48h`) to the existing data at the key `creds`:

```shell-session
$ vault kv patch -mount=secret creds ttl=48h
== Secret Path ==
secret/data/creds

======= Metadata =======
Key              Value
---              -----
created_time     2019-06-06T16:46:22.090654Z
deletion_time    n/a
destroyed        false
version          6
```

<Tip title="Differences from kv put">

The `kv put` command requires both the existing data and the data you wish to add 
in order to accomplish the same result.

```shell-session
$ vault kv put -mount=secret creds ttl=48h passcode=my-long-passcode
```

</Tip>

Pass the data from a file on disk by prefixing with the "@" symbol:

```shell-session
$ vault kv patch -mount=secret creds @data.json
```

Pass the data using stdin by prefixing with the "-" symbol:

```shell-session
$ echo "abcd1234" | vault kv patch -mount=secret foo bar=-
```
