---
layout: docs
page_title: ssh - Command
description: |-
  The "ssh" command establishes an SSH connection with the target machine using
  credentials obtained from an SSH secrets engine.
---

# ssh

Establishes an SSH connection with the target machine.

<CodeBlockConfig hideClipboard>

```shell-session
$ vault ssh [flags] <username@ip> [options]

$ vault ssh [-help | -h]
```

</CodeBlockConfig>

## Description

`ssh` establishes an SSH connection with the target machine.

This command uses one of the SSH secrets engines to authenticate and
automatically establish an SSH connection to a host. This operation requires
that the SSH secrets engine is mounted and configured.

The user must have `ssh` installed locally - this command will exec out to it
with the proper commands to provide an "SSH-like" consistent experience.

> For step-by-step guides and instructions for each of the available SSH
auth methods, refer the corresponding [SSH secrets
engine](/vault/docs/secrets/ssh).

## Command arguments

None.

## Command options

None.

## Command flags

<br />

@include 'cli/shared/flags/field.mdx'

<br /><hr /><br />

@include 'cli/ssh/flags/mode.mdx'

<br /><hr /><br />

@include 'cli/ssh/flags/mount-point.mdx'

<br /><hr /><br />

@include 'cli/ssh/flags/no-exec.mdx'

<br /><hr /><br />

@include 'cli/ssh/flags/role.mdx'

<br /><hr /><br />

@include 'cli/ssh/flags/strict-host-key-checking.mdx'

<br /><hr /><br />

@include 'cli/ssh/flags/user-known-hosts-file.mdx'

<br /><hr /><br />

@include 'cli/ssh/flags/host-key-hostnames.mdx'

<br /><hr /><br />

@include 'cli/ssh/flags/host-key-mount-point.mdx'

<br /><hr /><br />

@include 'cli/ssh/flags/private-key-path.mdx'

<br /><hr /><br />

@include 'cli/ssh/flags/public-key-path.mdx'

## Global flags

<br />

@include 'cli/standard-settings/all-standard-flags.mdx'

## Examples

SSH using the OTP mode (requires [sshpass](https://linux.die.net/man/1/sshpass)
for full automation):

```shell-session
$ vault ssh -mode=otp -role=my-role user@1.2.3.4
```

SSH using the CA mode:

```shell-session
$ vault ssh -mode=ca -role=my-role user@1.2.3.4
```

SSH using CA mode with host key verification:

```shell-session
$ vault ssh \
    -mode=ca \
    -role=my-role \
    -host-key-mount-point=host-signer \
    -host-key-hostnames=example.com \
    user@example.com
```