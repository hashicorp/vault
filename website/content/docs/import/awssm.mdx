---
layout: docs
page_title: AWS secret import source
description: The AWS Secret Manager source imports secrets from AWS to Vault.
---

# AWS secret import source

Use the AWS source to import secret data from AWS Secret Manager into your Vault instance.
The user must provide the necessary AWS credentials as environment variables or as mentioned in the additional arguments section.To use dynamic
credentials with AWS import, ensure the [AWS secrets engine](/vault/docs/secrets/aws) is already configured.

## Argument reference

Refer to the [HCL syntax](/vault/docs/import#hcl-syntax-1) for arguments common to all source types.

## Additional arguments

- `credentials_profile` `(string: "")` - The name of the profile in your credentials file to authenticate with.
  If not set, Vault uses the default credential provider mechanisms.

- `vault_mount_path` `(string: "")` - The Vault mount path to a pre-configured AWS
  secrets engine used to generate dynamic credentials for the importer.

- `vault_role_name` `(string: "")` - The Vault role used to generate a dynamic
  credential for the importer. The role name must exist in the pre-configured AWS secrets
  engine mount.

- `vault_namespace` `(string: "")` - The Vault namespace containing the pre-configured AWS secrets engine
  mount path specified in `vault_mount_path` for use with dynamic secrets.

- `vault_address` `(string: "")` - The address of the Vault server to use for dynamic credentials.

- `vault_credentials_file` `(string: "")` - The path to a file containing a Vault token for the vault server configured above.

#### Note
 - If `credentials_profile` is set, then `vault_mount_path`, `vault_role_name`,`vault_namespace`,`vault_address` and `vault_credentials_file` must be unset.

 - If one of `vault_mount_path`,`vault_role_name`, `vault_namespace`,`vault_address` or `vault_credentials_file`  are set, then `credentials_profile` must be unset.

## Example

Define and configure the `my-aws-source-1` AWS source.. This uses the configured static credentials.

```hcl
source_aws {
  name = "my-aws-source-1"
  credentials_profile = "my-cred-profile-name"
}
```

Define and configure the `my-aws-source-2` AWS source. 
This uses the AWS secrets engine configured at the given `vault_address` to generate dynamic secrets in order to scan secrets in AWS Secret Manager.


```hcl
source_aws {
  name = "my-aws-source-2"
  vault_mount_path = "aws"
  vault_role_name  = "temp_user"
  vault_namespace  = "ns-1"
  vault_address    = "https://vault.example.com:8200"
  vault_credentials_file = "/path/to/vault/token"
}
```

## Permissions

To use AWS import, you must grant the associated AWS identity permissions to read secrets:

```shell-session
"secretsmanager:DescribeSecret",
"secretsmanager:GetSecretValue",
"secretsmanager:BatchGetSecretValue",
"secretsmanager:ListSecrets",
```
