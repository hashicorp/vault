---
layout: docs
page_title: Azure secret import source
description: The Azure KeyVault source imports secrets from Azure to Vault.
---

# Azure secret import source

Use the Azure source to import secret data from Azure KeyVault into your Vault instance.To use dynamic
credentials with Azure import, ensure the [Azure secrets engine](/vault/docs/secrets/azure) is already configured.

## Argument reference

Refer to the [HCL syntax](/vault/docs/import#hcl-syntax-1) for arguments common to all source types.

## Additional arguments

Required:

- `key_vault_uri` `(string)` - The URI of the Azure KeyVault you want to import from.

The following parameters are optional. If you leave these parameters unset,
Vault uses the default credential provider mechanisms, e.g. the credentials persisted to disk
by a preceding `az login`.

- `cloud_name` `(string: "AzureCloud")` - Azure cloud to connect to
- `tenant_id` `(string: "")` - Tenant ID to use
- `client_id` `(string: "")` - Client ID to use
- `credentials_file` `(string: "")` - Path to a file with the client secret

- `vault_mount_path` `(string: "")` - The Vault mount path to a pre-configured Azure
  secrets engine used to generate dynamic credentials for the importer.

- `vault_role_name` `(string: "")` - The Vault role used to generate a dynamic
  credential for the importer. The role name must exist in the pre-configured Azure secrets
  engine mount.

- `vault_namespace` `(string: "")` - The Vault namespace containing the pre-configured Azure secrets engine
  mount path specified in `vault_mount_path` for use with dynamic secrets.

- `vault_address` `(string: "")` - The address of the Vault server to use for dynamic credentials. 

- `vault_credentials_file` `(string: "")` - The path to a file containing a Vault token for the vault server configured above.

#### Note
 - If `tenant_id`, `client_id` and `credentials_file` is set, then `vault_mount_path`, `vault_role_name`,`vault_namespace`,`vault_address` and `vault_credentials_file` must be unset.

 - If one of `vault_mount_path`,`vault_role_name`, `vault_namespace`,`vault_address` or `vault_credentials_file`  are set, then `tenant_id`, `client_id` and `credentials_file`  must be unset.


## Example

Define and configure the `my-azure-source-1` Azure source. This uses the configured static credentials.

```hcl
source_azure {
  name = "my-azure-source-1"
  key_vault_uri = "https://keyvault-1234abcd.vault.azure.net"
  tenant_id = "<your tenant id>"
  client_id = "<your client id>"
  credentials_file = "/path/to/client-secret"
}
```

Define and configure the `my-azure-source-2` Azure source. 
This uses the Azure secrets engine configured at the given `vault_address` to generate dynamic secrets in order to scan secrets in Azure KeyVault.

```hcl
source_azure {
  name             = "my-azure-source-2"
  vault_mount_path = "azure"
  vault_role_name  = "my-azure-role-1"
  vault_namespace  = "ns-1"
  vault_address    = "https://vault.example.com:8200"
  vault_credentials_file = "/path/to/vault/token"
}
```

## Permissions

To use Azure import, you must grant the associated Azure identity permission to read secrets
from the specified KeyVault:

```shell-session
"Get",
"List",
```