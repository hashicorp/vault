{"version":3,"file":"cluster-replication.js","sources":["../../../src/components/vault-reporting/cluster-replication.gts"],"sourcesContent":["/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: BUSL-1.1\n */\n\nimport Component from '@glimmer/component';\nimport {\n  HdsCardContainer,\n  HdsTextBody,\n  HdsBadge,\n} from '@hashicorp/design-system-components/components';\nimport TitleRow from './base/title-row.gts';\nimport { REPLICATION_ENABLED_STATE } from '../../types/index.ts';\n\nimport './cluster-replication.scss';\n\nexport interface ClusterReplicationSignature {\n  Args: {\n    isDisasterRecoveryPrimary: boolean;\n    disasterRecoveryState: REPLICATION_ENABLED_STATE | 'disabled';\n    isPerformancePrimary: boolean;\n    performanceState: REPLICATION_ENABLED_STATE | 'disabled';\n  };\n\n  Blocks: {\n    default: [];\n  };\n\n  Element: HTMLElement;\n}\n\nexport default class ClusterReplication extends Component<ClusterReplicationSignature> {\n  get disasterRecoveryBadge(): {\n    icon: 'check' | 'x';\n    text: string;\n    color: 'success' | 'neutral';\n  } {\n    return Object.values(REPLICATION_ENABLED_STATE as object).includes(\n      this.args.disasterRecoveryState,\n    )\n      ? { icon: 'check', text: 'Enabled', color: 'success' }\n      : { icon: 'x', text: 'Not set up', color: 'neutral' };\n  }\n\n  get performanceBadge(): {\n    icon: 'check' | 'x';\n    text: string;\n    color: 'success' | 'neutral';\n  } {\n    return Object.values(REPLICATION_ENABLED_STATE as object).includes(\n      this.args.performanceState,\n    )\n      ? { icon: 'check', text: 'Enabled', color: 'success' }\n      : { icon: 'x', text: 'Not set up', color: 'neutral' };\n  }\n\n  get disasterRecoveryRole() {\n    return this.args.isDisasterRecoveryPrimary ? 'Primary' : 'Secondary';\n  }\n\n  get performanceRole() {\n    return this.args.isPerformancePrimary ? 'Primary' : 'Secondary';\n  }\n\n  <template>\n    <HdsCardContainer\n      data-test-cluster-replication\n      @hasBorder={{true}}\n      class=\"ssu-cluster-replication\"\n      ...attributes\n    >\n      <TitleRow\n        @title=\"Cluster replication status\"\n        @description=\"Check the status and health of Vault clusters\"\n        @linkUrl=\"replication\"\n      />\n\n      <div\n        class=\"ssu-cluster-replication__list-row\"\n        data-test-cluster-replication-dr-row\n      >\n        <HdsTextBody @size=\"300\">\n          Disaster Recovery\n          <HdsBadge\n            class=\"ssu-cluster-replication__list-row__badge\"\n            data-test-cluster-replication-dr-badge\n            @icon={{this.disasterRecoveryBadge.icon}}\n            @text={{this.disasterRecoveryBadge.text}}\n            @color={{this.disasterRecoveryBadge.color}}\n            @type=\"outlined\"\n            @size=\"small\"\n          />\n        </HdsTextBody>\n\n        <HdsTextBody\n          class=\"ssu-cluster-replication__list-row__role\"\n          data-test-cluster-replication-dr-role\n          @size=\"300\"\n          @color=\"var(--token-color-palette-green-400)\"\n        >\n          {{this.disasterRecoveryRole}}\n        </HdsTextBody>\n      </div>\n\n      <div\n        class=\"ssu-cluster-replication__list-row\"\n        data-test-cluster-replication-perf-row\n      >\n        <HdsTextBody @size=\"300\">\n          Performance\n          <HdsBadge\n            class=\"ssu-cluster-replication__list-row__badge\"\n            data-test-cluster-replication-perf-badge\n            @icon={{this.performanceBadge.icon}}\n            @text={{this.performanceBadge.text}}\n            @color={{this.performanceBadge.color}}\n            @type=\"outlined\"\n            @size=\"small\"\n          />\n        </HdsTextBody>\n\n        <HdsTextBody\n          class=\"ssu-cluster-replication__list-row__role\"\n          data-test-cluster-replication-perf-role\n          @size=\"300\"\n          @color=\"var(--token-color-palette-green-400)\"\n        >\n          {{this.performanceRole}}\n        </HdsTextBody>\n      </div>\n\n    </HdsCardContainer>\n  </template>\n}\n"],"names":["ClusterReplication","Component","disasterRecoveryBadge","Object","values","REPLICATION_ENABLED_STATE","includes","args","disasterRecoveryState","icon","text","color","performanceBadge","performanceState","disasterRecoveryRole","isDisasterRecoveryPrimary","performanceRole","isPerformancePrimary","setComponentTemplate","precompileTemplate","strictMode","scope","HdsCardContainer","TitleRow","HdsTextBody","HdsBadge"],"mappings":";;;;;;;AAAA;;;AAGC;AA4Bc,MAAMA,2BAA2BC,SAAU,CAAA;EACxD,IAAIC,qBAAAA,GAIF;AACA,IAAA,OAAOC,MAAO,CAAAC,MAAM,CAACC,yBAAmC,CAAA,CAAEC,QAAQ,CAChE,IAAI,CAACC,IAAI,CAACC,qBAAqB,CAE7B,GAAA;AAAEC,MAAAA,IAAM,EAAA,OAAA;AAASC,MAAAA,IAAM,EAAA,SAAA;AAAWC,MAAAA,KAAO,EAAA;AAAU,KACnD,GAAA;AAAEF,MAAAA,IAAM,EAAA,GAAA;AAAKC,MAAAA,IAAM,EAAA,YAAA;AAAcC,MAAAA,KAAO,EAAA;KAAU;AACxD;EAEA,IAAIC,gBAAAA,GAIF;AACA,IAAA,OAAOT,MAAO,CAAAC,MAAM,CAACC,yBAAmC,CAAA,CAAEC,QAAQ,CAChE,IAAI,CAACC,IAAI,CAACM,gBAAgB,CAExB,GAAA;AAAEJ,MAAAA,IAAM,EAAA,OAAA;AAASC,MAAAA,IAAM,EAAA,SAAA;AAAWC,MAAAA,KAAO,EAAA;AAAU,KACnD,GAAA;AAAEF,MAAAA,IAAM,EAAA,GAAA;AAAKC,MAAAA,IAAM,EAAA,YAAA;AAAcC,MAAAA,KAAO,EAAA;KAAU;AACxD;EAEA,IAAIG,oBAAuBA,GAAA;IACzB,OAAO,IAAI,CAACP,IAAI,CAACQ,yBAAyB,GAAG,SAAY,GAAA,WAAA;AAC3D;EAEA,IAAIC,eAAkBA,GAAA;IACpB,OAAO,IAAI,CAACT,IAAI,CAACU,oBAAoB,GAAG,SAAY,GAAA,WAAA;AACtD;AAEA,EAAA;IAAAC,oBAAA,CAAAC,kBAAA,CAoEA,mrDAAA,EAAA;MAAAC,UAAA,EAAA,IAAA;AAAAC,MAAAA,KAAA,EAAAA,OAAA;QAAAC,gBAAA;QAAAC,QAAA;QAAAC,WAAA;AAAAC,QAAAA;AAAA,OAAA;KAAU,CAAA,EAAV,IAAW,CAAA;AAAD;AACZ;;;;"}