{"version":3,"file":"counter.js","sources":["../../../src/components/vault-reporting/counter.gts"],"sourcesContent":["/**\n * Copyright (c) HashiCorp, Inc.\n * SPDX-License-Identifier: BUSL-1.1\n */\n\nimport Component from '@glimmer/component';\nimport {\n  HdsTextBody,\n  HdsIcon,\n  HdsTooltipButton,\n  HdsLinkInline,\n} from '@hashicorp/design-system-components/components';\nimport type { IconName } from '@hashicorp/flight-icons/svg';\n\nimport './counter.scss';\n\nexport interface SSUReportingCounterSignature {\n  Args: {\n    count: number;\n    title: string;\n    tooltipMessage?: string;\n    icon?: IconName;\n    suffix?: string;\n    link?: string;\n    emptyText?: string;\n    emptyLink?: string;\n  };\n\n  Blocks: {\n    default: [];\n  };\n\n  Element: HTMLElement;\n}\nexport default class SSUReportingCounter extends Component<SSUReportingCounterSignature> {\n  get shouldShowEmptyState() {\n    return this.args.count === 0 && this.args.emptyText;\n  }\n\n  get count() {\n    if (this.shouldShowEmptyState) {\n      return this.args.emptyText;\n    }\n\n    if (this.args.suffix) {\n      return `${this.args.count} ${this.args.suffix}`;\n    }\n\n    return this.args.count;\n  }\n\n  get icon() {\n    return this.args.icon || 'info';\n  }\n\n  get link() {\n    if (this.shouldShowEmptyState && this.args.emptyLink) {\n      return this.args.emptyLink;\n    }\n    return this.args.link;\n  }\n\n  <template>\n    <div\n      ...attributes\n      data-test-vault-reporting-counter={{@title}}\n      class=\"ssu-counter\"\n      aria-label=\"{{@title}} {{this.count}}\"\n    >\n      <div class=\"ssu-counter__title-row\">\n        <HdsTextBody @weight=\"semibold\" @size=\"200\" @color=\"primary\">{{@title}}\n          {{#if @tooltipMessage}}\n            <HdsTooltipButton\n              data-test-vault-reporting-counter-tooltip-button\n              class=\"ssu-counter__title-row__tooltip\"\n              @text={{@tooltipMessage}}\n              aria-label=\"Tooltip for {{@title}}\"\n              @isInline={{true}}\n            >\n              <HdsIcon @name=\"help\" @isInline={{true}} />\n            </HdsTooltipButton>\n          {{/if}}\n        </HdsTextBody>\n      </div>\n\n      <HdsTextBody>\n        {{#if this.link}}\n          <HdsLinkInline\n            @href={{this.link}}\n            @color=\"secondary\"\n            class=\"ssu-counter__link\"\n            target=\"_self\"\n          >{{this.count}}\n          </HdsLinkInline>\n        {{else}}\n          {{this.count}}\n        {{/if}}\n      </HdsTextBody>\n    </div>\n  </template>\n}\n"],"names":["SSUReportingCounter","Component","shouldShowEmptyState","args","count","emptyText","suffix","icon","link","emptyLink","setComponentTemplate","precompileTemplate","strictMode","scope","HdsTextBody","HdsTooltipButton","HdsIcon","HdsLinkInline"],"mappings":";;;;;AAAA;;;AAGC;AA+Bc,MAAMA,4BAA4BC,SAAU,CAAA;EACzD,IAAIC,oBAAuBA,GAAA;AACzB,IAAA,OAAO,IAAI,CAACC,IAAI,CAACC,KAAK,KAAK,CAAA,IAAK,IAAI,CAACD,IAAI,CAACE,SAAS;AACrD;EAEA,IAAID,KAAQA,GAAA;IACV,IAAI,IAAI,CAACF,oBAAoB,EAAE;AAC7B,MAAA,OAAO,IAAI,CAACC,IAAI,CAACE,SAAS;AAC5B;AAEA,IAAA,IAAI,IAAI,CAACF,IAAI,CAACG,MAAM,EAAE;AACpB,MAAA,OAAO,CAAG,EAAA,IAAI,CAACH,IAAI,CAACC,KAAK,CAAI,CAAA,EAAA,IAAI,CAACD,IAAI,CAACG,MAAM,CAAE,CAAA;AACjD;AAEA,IAAA,OAAO,IAAI,CAACH,IAAI,CAACC,KAAK;AACxB;EAEA,IAAIG,IAAOA,GAAA;AACT,IAAA,OAAO,IAAI,CAACJ,IAAI,CAACI,IAAI,IAAI,MAAA;AAC3B;EAEA,IAAIC,IAAOA,GAAA;IACT,IAAI,IAAI,CAACN,oBAAoB,IAAI,IAAI,CAACC,IAAI,CAACM,SAAS,EAAE;AACpD,MAAA,OAAO,IAAI,CAACN,IAAI,CAACM,SAAS;AAC5B;AACA,IAAA,OAAO,IAAI,CAACN,IAAI,CAACK,IAAI;AACvB;AAEA,EAAA;IAAAE,oBAAA,CAAAC,kBAAA,CAqCA,o8BAAA,EAAA;MAAAC,UAAA,EAAA,IAAA;AAAAC,MAAAA,KAAA,EAAAA,OAAA;QAAAC,WAAA;QAAAC,gBAAA;QAAAC,OAAA;AAAAC,QAAAA;AAAA,OAAA;KAAU,CAAA,EAAV,IAAW,CAAA;AAAD;AACZ;;;;"}