@use '../utils/font_variables';
@use '../utils/size_variables';

/**
 * Copyright (c) HashiCorp, Inc.
 * SPDX-License-Identifier: BUSL-1.1
 */

// LEGEND STYLING (positioning is in chart-container.scss)
$blue-500: #1c345f;
$secret_syncs: #6cc5b0;
$acme_clients: #ff725c;
$entity_clients: #4269d0;
$non_entity_clients: #efb117;

.legend-container {
  .dots {
    height: 10px;
    width: 10px;
    border-radius: 50%;
    display: inline-block;
  }
  .legend-new_clients {
    background-color: $blue-500;
  }
  .legend-entity_clients {
    background-color: $entity_clients;
  }
  .legend-non_entity_clients {
    background-color: $non_entity_clients;
  }
  .legend-secret_syncs {
    background-color: $secret_syncs;
  }
  .legend-acme_clients {
    background-color: $acme_clients;
  }
}

.chart-tooltip {
  background-color: hsl(0, 0%, 4%);
  color: white;
  font-size: size_variables.$size-9;
  padding: 6px;
  border-radius: size_variables.$radius-large;
  flex-wrap: nowrap;
  width: fit-content;

  .bold {
    font-weight: font_variables.$font-weight-bold;
  }
  // styling below handles tooltip position
  position: absolute;
  transform-style: preserve-3d;
  bottom: 30px;
  left: -20px;
  pointer-events: none;
  width: 140px;
  transform: translate(calc(1px * var(--x, 0)), calc(-1px * var(--y, 0)));
  transform-origin: bottom left;
  z-index: 100;
  margin-bottom: size_variables.$spacing-8;
}

.chart-tooltip-arrow {
  width: 0;
  height: 0;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 9px solid hsl(0, 0%, 4%);
  position: absolute;
  opacity: 0.8;
  bottom: -9px;
  left: calc(50% - 5px);
}

// LINEAL STYLING //
.lineal-chart {
  position: relative;
  padding: 10px 10px 20px 50px;
  width: 100%;
  svg {
    overflow: visible;
  }
}

.lineal-chart-bar {
  fill: var(--token-color-palette-blue-500);
}

.lineal-axis {
  color: var(--token-color-palette-neutral-400);
  text {
    font-size: 0.75rem;
  }
  line {
    color: var(--token-color-palette-neutral-300);
  }
}

// @colorScale arg for Lineal::VBars is "stacked-bar", indices are added by lineal
.stacked-bar-1 {
  color: $entity_clients;
  fill: $entity_clients;
}
.stacked-bar-2 {
  color: $non_entity_clients;
  fill: $non_entity_clients;
}
.stacked-bar-3 {
  color: $secret_syncs;
  fill: $secret_syncs;
}
.stacked-bar-4 {
  color: $acme_clients;
  fill: $acme_clients;
}
