{{!
  Copyright IBM Corp. 2016, 2025
  SPDX-License-Identifier: BUSL-1.1
}}

{{#if this.model.cannotRequestExport}}
  <Hds::ApplicationState @align="center" class="has-top-margin-xxl" as |A|>
    <A.Header @icon="skip" @title="You are not authorized" data-test-empty-state-title />

    <A.Body data-test-empty-state-message>
      Viewing export data requires
      <Hds::Text::Code class="code-in-text">sudo</Hds::Text::Code>
      permissions to
      <Hds::Text::Code class="code-in-text">/sys/internal/counters/activity/export</Hds::Text::Code>.
    </A.Body>

    <A.Footer data-test-empty-state-actions>
      <Hds::Link::Standalone
        @icon="docs-link"
        @iconPosition="trailing"
        @text="Client Export Documentation"
        @isHrefExternal={{true}}
        @href={{doc-link "/vault/api-docs/system/internal-counters#activity-export"}}
      />
    </A.Footer>
  </Hds::ApplicationState>
{{else}}
  <Clients::Page::ClientList
    @exportData={{this.model.exportData}}
    @onFilterChange={{this.countsController.updateQueryParams}}
    @filterQueryParams={{this.countsController.filterQueryParams}}
  />
{{/if}}