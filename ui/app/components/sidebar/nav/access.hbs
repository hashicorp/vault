<HcAppFrame::SidenavPanel as |Nav|>
  <Nav.BackLink
    @route="vault.cluster"
    @current-when={{false}}
    @icon="arrow-left"
    @text="Back to main navigation"
    data-test-sidebar-nav-link="Back to main navigation"
  />

  <Nav.Title data-test-sidebar-nav-heading="Authentication">Authentication</Nav.Title>
  {{#if (has-permission "access" routeParams="methods")}}
    <Nav.Link
      @route="vault.cluster.access.methods"
      @current-when="vault.cluster.access.methods vault.cluster.access.method"
      @text="Authentication methods"
      data-test-sidebar-nav-link="Authentication methods"
    />
  {{/if}}
  {{#if (has-permission "access" routeParams="mfa")}}
    <Nav.Link
      @route="vault.cluster.access.mfa.methods"
      @current-when="vault.cluster.access.mfa.methods vault.cluster.access.mfa.enforcements vault.cluster.access.mfa.index"
      @text="Multi-factor authentication"
      data-test-sidebar-nav-link="Multi-factor authentication"
    />
  {{/if}}
  {{#if (has-permission "access" routeParams="oidc")}}
    <Nav.Link @route="vault.cluster.access.oidc" @text="OIDC" data-test-sidebar-nav-link="OIDC" />
  {{/if}}

  <Nav.Title data-test-sidebar-nav-heading="Access Control">Access Control</Nav.Title>

  {{#if (and (has-feature "Control Groups") (has-permission "access" routeParams="control-groups"))}}
    <Nav.Link
      @route="vault.cluster.access.control-groups"
      @current-when="vault.cluster.access.control-groups vault.cluster.access.control-group-accessor vault.cluster.access.control-groups-configure"
      @text="Control Groups"
      data-test-sidebar-nav-link="Control Groups"
    />
  {{/if}}

  <Nav.Title data-test-sidebar-nav-heading="Organization">Organization</Nav.Title>

  {{#if (and (has-feature "Namespaces") (has-permission "access" routeParams="namespaces"))}}
    <Nav.Link @route="vault.cluster.access.namespaces" @text="Namespaces" data-test-sidebar-nav-link="Namespaces" />
  {{/if}}
  {{#if (has-permission "access" routeParams="groups")}}
    <Nav.Link @route="vault.cluster.access.identity" @model="groups" @text="Groups" data-test-sidebar-nav-link="Groups" />
  {{/if}}
  {{#if (has-permission "access" routeParams="entities")}}
    <Nav.Link
      @route="vault.cluster.access.identity"
      @model="entities"
      @text="Entities"
      data-test-sidebar-nav-link="Entities"
    />
  {{/if}}

  <Nav.Title data-test-sidebar-nav-heading="Administration">Administration</Nav.Title>

  {{#if (has-permission "access" routeParams="leases")}}
    <Nav.Link @route="vault.cluster.access.leases" @text="Leases" data-test-sidebar-nav-link="Leases" />
  {{/if}}
</HcAppFrame::SidenavPanel>