{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
}}

<Hds::PageHeader class="has-top-padding-l has-bottom-padding-m" as |PH|>
  <PH.Title>
    Secrets Recovery
    {{#if this.version.isCommunity}}
      <Hds::Badge @text="Enterprise" @color="highlight" data-test-badge="enterprise" />
    {{/if}}
  </PH.Title>

  <PH.Subtitle>
    Recover lost or deleted secrets from a raft snapshot. Supported types include KV v1 and Cubbyhole.
  </PH.Subtitle>
</Hds::PageHeader>

{{#if (eq @model.snapshots.length 0)}}
  {{#let (get this.emptyStateDetails this.state) as |d|}}
    <EmptyState @title={{d.title}} @icon={{d.icon}} @message={{d.message}}>

      {{#if (eq this.state this.viewState.ALLOW_UPLOAD)}}
        <Hds::Button @text={{d.buttonText}} @color={{d.buttonColor}} {{on "click" this.uploadSnapshot}} />
      {{else}}
        <Hds::Button
          @text={{d.buttonText}}
          @color={{d.buttonColor}}
          @icon={{d.buttonIcon}}
          @iconPosition="trailing"
          @route={{d.buttonRoute}}
          @query={{if d.buttonRoute (hash namespace="")}}
          @href={{doc-link d.buttonHref}}
        />
      {{/if}}
    </EmptyState>
  {{/let}}
{{/if}}