# ***
# WARNING: Do not EDIT or MERGE this file, it is generated by packagespec.
# ***
lockid: c5d50b5178af1bf2
packagespec-version: 0.2.7
cache-version: 10
packages:
  - packagespecid: 67d5536dc98eb42197a8d3484afc10faedf3239e
    inputs:
      BINARY_NAME: vault
      CGO_ENABLED: "0"
      GO_VERSION: 1.16.6
      GO111MODULE: "off"
      GOARCH: amd64
      GOOS: darwin
      PRODUCT_VERSION: 1.9.0-snapshot-861abee11db957049846aebf66fba27afe0ff2c6
      PRODUCT_VERSION_MMP: 1.9.0
      PRODUCT_VERSION_PRE: snapshot-861abee11db957049846aebf66fba27afe0ff2c6
      YARN_VERSION: 1.19.1-1
    meta:
      BUILD_JOB_NAME: darwin_amd64_package
      BUNDLE_NAME: vault_1.9.0-snapshot-861abee11db957049846aebf66fba27afe0ff2c6
      builtin:
        BUILD_LAYERS:
          - type: copy-source
            name: 09-copy-source-f49cce6acaba0ad2a431d8b3773a5c9bceff462b
            archive: .buildcache/archives/09-copy-source-f49cce6acaba0ad2a431d8b3773a5c9bceff462b.tar.gz
          - type: go-modules
            name: 08-go-modules-b46a16e3e288e060c137a6b575c3d4076b8858d2
            archive: .buildcache/archives/08-go-modules-b46a16e3e288e060c137a6b575c3d4076b8858d2.tar.gz
          - type: build-static-assets
            name: 07-build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9
            archive: .buildcache/archives/07-build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9.tar.gz
          - type: build-ui
            name: 06-build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce
            archive: .buildcache/archives/06-build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce.tar.gz
          - type: ui-dependencies
            name: 05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17
            archive: .buildcache/archives/05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17.tar.gz
          - type: install-yarn
            name: 04-install-yarn-841661371841438326b045be1fbefa82cef8e90c
            archive: .buildcache/archives/04-install-yarn-841661371841438326b045be1fbefa82cef8e90c.tar.gz
          - type: set-workdir
            name: 03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc
            archive: .buildcache/archives/03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc.tar.gz
          - type: install-go-tools
            name: 02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
            archive: .buildcache/archives/02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec.tar.gz
          - type: install-go
            name: 01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8
            archive: .buildcache/archives/01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8.tar.gz
          - type: base
            name: 00-base-c6cdf1b224722d2520e082320f2a71875913247c
            archive: .buildcache/archives/00-base-c6cdf1b224722d2520e082320f2a71875913247c.tar.gz
        PACKAGE_CACHE_KEY_FILE: .buildcache/cache-keys/package-67d5536dc98eb42197a8d3484afc10faedf3239e
        POST_PROCESSORS: apple-notarize av-scan
      circleci:
        BUILDER_CACHE_KEY_PREFIX_LIST:
          - copy-source_f49c_{{checksum ".buildcache/cache-keys/copy-source-f49cce6acaba0ad2a431d8b3773a5c9bceff462b"}}
          - go-modules_b46a_{{checksum ".buildcache/cache-keys/go-modules-b46a16e3e288e060c137a6b575c3d4076b8858d2"}}
          - build-static-assets_10fc_{{checksum ".buildcache/cache-keys/build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9"}}
          - build-ui_26f5_{{checksum ".buildcache/cache-keys/build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce"}}
          - ui-dependencies_1b62_{{checksum ".buildcache/cache-keys/ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17"}}
          - install-yarn_8416_{{checksum ".buildcache/cache-keys/install-yarn-841661371841438326b045be1fbefa82cef8e90c"}}
          - set-workdir_b283_{{checksum ".buildcache/cache-keys/set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc"}}
          - install-go-tools_92f8_{{checksum ".buildcache/cache-keys/install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec"}}
          - install-go_513f_{{checksum ".buildcache/cache-keys/install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8"}}
          - base_c6cd_{{checksum ".buildcache/cache-keys/base-c6cdf1b224722d2520e082320f2a71875913247c"}}
        PACKAGE_CACHE_KEY: package-67d5536dc98eb42197a8d3484afc10faedf3239e-{{checksum ".buildcache/cache-keys/package-67d5536dc98eb42197a8d3484afc10faedf3239e"}}
    build-command: VERSION_PKG_PATH=github.com/hashicorp/vault/sdk/version; GO111MODULE=on go build -v -tags ui -ldflags " -X $VERSION_PKG_PATH.GitCommit=$PACKAGE_SOURCE_ID -X $VERSION_PKG_PATH.Version=1.9.0 -X $VERSION_PKG_PATH.VersionPrerelease=snapshot-861abee11db957049846aebf66fba27afe0ff2c6" -o $OUTPUT_DIR/vault && cd $OUTPUT_DIR && zip $PACKAGE_ZIP_NAME vault
    aliases:
      - type: local
        path: vault_1.9.0-snapshot-861abee11db957049846aebf66fba27afe0ff2c6_darwin_amd64.zip
      - type: public-hc-releases
        path: vault/vault_1.9.0-snapshot-861abee11db957049846aebf66fba27afe0ff2c6/vault_1.9.0-snapshot-861abee11db957049846aebf66fba27afe0ff2c6_darwin_amd64.zip
base-image: debian@sha256:68f4e2259032a4e6f5035804e64438b52af8dd5889528b305b9059183ea4cd2a
layers:
  - depth: 0
    final: false
    type: base
    id: c6cdf1b224722d2520e082320f2a71875913247c
    name: 00-base-c6cdf1b224722d2520e082320f2a71875913247c
    parentname: ""
    parenttype: ""
    parentid: ""
    cachekeyfile: .buildcache/cache-keys/base-c6cdf1b224722d2520e082320f2a71875913247c
    sourceinclude: ""
    sourceexclude: ""
    archivefile: .buildcache/archives/00-base-c6cdf1b224722d2520e082320f2a71875913247c.tar.gz
    dockerfile: |-
      # syntax=docker.mirror.hashicorp.services/docker/dockerfile:1.1.7-experimental
      FROM debian@sha256:68f4e2259032a4e6f5035804e64438b52af8dd5889528b305b9059183ea4cd2a
      COPY . ./
      RUN apt-get update -y && apt-get install --no-install-recommends -y -q \
                               curl \
                               zip \
                               build-essential \
                               gcc-multilib \
                               g++-multilib \
                               ca-certificates \
                               git mercurial bzr \
                               gnupg \
                               libltdl-dev \
                               libltdl7 \
      						             bash \
                            && rm -rf /var/lib/apt/lists/*
    meta:
      builtin:
        LAYER_LIST:
          - type: base
            name: 00-base-c6cdf1b224722d2520e082320f2a71875913247c
            archive: .buildcache/archives/00-base-c6cdf1b224722d2520e082320f2a71875913247c.tar.gz
      circleci:
        CACHE_KEY_PREFIX_LIST:
          - base_c6cd_{{checksum ".buildcache/cache-keys/base-c6cdf1b224722d2520e082320f2a71875913247c"}}
    childcount: 1
  - depth: 1
    final: false
    type: install-go
    id: 513f2a338cda5459ba6af9c19726ca6a5e5f77d8
    name: 01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8
    parentname: 00-base-c6cdf1b224722d2520e082320f2a71875913247c
    parenttype: base
    parentid: c6cdf1b224722d2520e082320f2a71875913247c
    cachekeyfile: .buildcache/cache-keys/install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8
    sourceinclude: ""
    sourceexclude: ""
    archivefile: .buildcache/archives/01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8.tar.gz
    dockerfile: |-
      # syntax=docker.mirror.hashicorp.services/docker/dockerfile:1.1.7-experimental
      ARG BASE_IMAGE
      FROM $BASE_IMAGE
      COPY . ./
      ENV GOPATH /gopath
      ENV GOROOT /goroot
      RUN mkdir $GOROOT && mkdir $GOPATH
      RUN curl https://storage.googleapis.com/golang/go1.16.6.linux-amd64.tar.gz \
                 | tar xzf - -C $GOROOT --strip-components=1
      ENV PATH $GOROOT/bin:$GOPATH/bin:$PATH
    meta:
      builtin:
        LAYER_LIST:
          - type: install-go
            name: 01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8
            archive: .buildcache/archives/01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8.tar.gz
          - type: base
            name: 00-base-c6cdf1b224722d2520e082320f2a71875913247c
            archive: .buildcache/archives/00-base-c6cdf1b224722d2520e082320f2a71875913247c.tar.gz
      circleci:
        CACHE_KEY_PREFIX_LIST:
          - install-go_513f_{{checksum ".buildcache/cache-keys/install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8"}}
          - base_c6cd_{{checksum ".buildcache/cache-keys/base-c6cdf1b224722d2520e082320f2a71875913247c"}}
    childcount: 1
  - depth: 2
    final: false
    type: install-go-tools
    id: 92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
    name: 02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
    parentname: 01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8
    parenttype: install-go
    parentid: 513f2a338cda5459ba6af9c19726ca6a5e5f77d8
    cachekeyfile: .buildcache/cache-keys/install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
    sourceinclude: ""
    sourceexclude: ""
    archivefile: .buildcache/archives/02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec.tar.gz
    dockerfile: |
      # syntax=docker.mirror.hashicorp.services/docker/dockerfile:1.1.7-experimental
      ARG BASE_IMAGE
      FROM $BASE_IMAGE
      COPY . ./
      ENV GO111MODULE=off
      RUN go get golang.org/x/tools/cmd/goimports
      RUN go get github.com/hashicorp/go-bindata
      RUN go get github.com/hashicorp/go-bindata/go-bindata
      RUN go get github.com/elazarl/go-bindata-assetfs
      RUN go get github.com/elazarl/go-bindata-assetfs/go-bindata-assetfs
    meta:
      builtin:
        LAYER_LIST:
          - type: install-go-tools
            name: 02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
            archive: .buildcache/archives/02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec.tar.gz
          - type: install-go
            name: 01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8
            archive: .buildcache/archives/01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8.tar.gz
          - type: base
            name: 00-base-c6cdf1b224722d2520e082320f2a71875913247c
            archive: .buildcache/archives/00-base-c6cdf1b224722d2520e082320f2a71875913247c.tar.gz
      circleci:
        CACHE_KEY_PREFIX_LIST:
          - install-go-tools_92f8_{{checksum ".buildcache/cache-keys/install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec"}}
          - install-go_513f_{{checksum ".buildcache/cache-keys/install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8"}}
          - base_c6cd_{{checksum ".buildcache/cache-keys/base-c6cdf1b224722d2520e082320f2a71875913247c"}}
    childcount: 1
  - depth: 3
    final: false
    type: set-workdir
    id: b283f2d1b935f6393c81b9212febb9d46fe06ddc
    name: 03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc
    parentname: 02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
    parenttype: install-go-tools
    parentid: 92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
    cachekeyfile: .buildcache/cache-keys/set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc
    sourceinclude: ""
    sourceexclude: ""
    archivefile: .buildcache/archives/03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc.tar.gz
    dockerfile: |
      # syntax=docker.mirror.hashicorp.services/docker/dockerfile:1.1.7-experimental
      ARG BASE_IMAGE
      FROM $BASE_IMAGE
      COPY . ./
      ENV REPO=github.com/hashicorp/vault
      ENV DIR=$GOPATH/src/$REPO
      RUN mkdir -p $DIR
      WORKDIR $DIR
    meta:
      builtin:
        LAYER_LIST:
          - type: set-workdir
            name: 03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc
            archive: .buildcache/archives/03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc.tar.gz
          - type: install-go-tools
            name: 02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
            archive: .buildcache/archives/02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec.tar.gz
          - type: install-go
            name: 01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8
            archive: .buildcache/archives/01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8.tar.gz
          - type: base
            name: 00-base-c6cdf1b224722d2520e082320f2a71875913247c
            archive: .buildcache/archives/00-base-c6cdf1b224722d2520e082320f2a71875913247c.tar.gz
      circleci:
        CACHE_KEY_PREFIX_LIST:
          - set-workdir_b283_{{checksum ".buildcache/cache-keys/set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc"}}
          - install-go-tools_92f8_{{checksum ".buildcache/cache-keys/install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec"}}
          - install-go_513f_{{checksum ".buildcache/cache-keys/install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8"}}
          - base_c6cd_{{checksum ".buildcache/cache-keys/base-c6cdf1b224722d2520e082320f2a71875913247c"}}
    childcount: 1
  - depth: 4
    final: false
    type: install-yarn
    id: 841661371841438326b045be1fbefa82cef8e90c
    name: 04-install-yarn-841661371841438326b045be1fbefa82cef8e90c
    parentname: 03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc
    parenttype: set-workdir
    parentid: b283f2d1b935f6393c81b9212febb9d46fe06ddc
    cachekeyfile: .buildcache/cache-keys/install-yarn-841661371841438326b045be1fbefa82cef8e90c
    sourceinclude: ""
    sourceexclude: ""
    archivefile: .buildcache/archives/04-install-yarn-841661371841438326b045be1fbefa82cef8e90c.tar.gz
    dockerfile: |-
      # syntax=docker.mirror.hashicorp.services/docker/dockerfile:1.1.7-experimental
      ARG BASE_IMAGE
      FROM $BASE_IMAGE
      COPY . ./
      RUN curl -sL https://deb.nodesource.com/setup_14.x | bash -
      RUN curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | apt-key add -
      RUN echo "deb https://dl.yarnpkg.com/debian/ stable main" | tee /etc/apt/sources.list.d/yarn.list
      RUN apt-get update -y && apt-get install -y -q nodejs yarn=1.19.1-1 \
                            && rm -rf /var/lib/apt/lists/*
    meta:
      builtin:
        LAYER_LIST:
          - type: install-yarn
            name: 04-install-yarn-841661371841438326b045be1fbefa82cef8e90c
            archive: .buildcache/archives/04-install-yarn-841661371841438326b045be1fbefa82cef8e90c.tar.gz
          - type: set-workdir
            name: 03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc
            archive: .buildcache/archives/03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc.tar.gz
          - type: install-go-tools
            name: 02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
            archive: .buildcache/archives/02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec.tar.gz
          - type: install-go
            name: 01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8
            archive: .buildcache/archives/01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8.tar.gz
          - type: base
            name: 00-base-c6cdf1b224722d2520e082320f2a71875913247c
            archive: .buildcache/archives/00-base-c6cdf1b224722d2520e082320f2a71875913247c.tar.gz
      circleci:
        CACHE_KEY_PREFIX_LIST:
          - install-yarn_8416_{{checksum ".buildcache/cache-keys/install-yarn-841661371841438326b045be1fbefa82cef8e90c"}}
          - set-workdir_b283_{{checksum ".buildcache/cache-keys/set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc"}}
          - install-go-tools_92f8_{{checksum ".buildcache/cache-keys/install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec"}}
          - install-go_513f_{{checksum ".buildcache/cache-keys/install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8"}}
          - base_c6cd_{{checksum ".buildcache/cache-keys/base-c6cdf1b224722d2520e082320f2a71875913247c"}}
    childcount: 1
  - depth: 5
    final: false
    type: ui-dependencies
    id: 1b62521b37dfa9993be3ff98c16705b16a4e0c17
    name: 05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17
    parentname: 04-install-yarn-841661371841438326b045be1fbefa82cef8e90c
    parenttype: install-yarn
    parentid: 841661371841438326b045be1fbefa82cef8e90c
    cachekeyfile: .buildcache/cache-keys/ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17
    sourceinclude: ui/package.json ui/yarn.lock
    sourceexclude: ""
    archivefile: .buildcache/archives/05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17.tar.gz
    dockerfile: |-
      # syntax=docker.mirror.hashicorp.services/docker/dockerfile:1.1.7-experimental
      ARG BASE_IMAGE
      FROM $BASE_IMAGE
      COPY . ./
      RUN cd ui && yarn install
      RUN cd ui && npm rebuild node-sass
    meta:
      builtin:
        LAYER_LIST:
          - type: ui-dependencies
            name: 05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17
            archive: .buildcache/archives/05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17.tar.gz
          - type: install-yarn
            name: 04-install-yarn-841661371841438326b045be1fbefa82cef8e90c
            archive: .buildcache/archives/04-install-yarn-841661371841438326b045be1fbefa82cef8e90c.tar.gz
          - type: set-workdir
            name: 03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc
            archive: .buildcache/archives/03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc.tar.gz
          - type: install-go-tools
            name: 02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
            archive: .buildcache/archives/02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec.tar.gz
          - type: install-go
            name: 01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8
            archive: .buildcache/archives/01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8.tar.gz
          - type: base
            name: 00-base-c6cdf1b224722d2520e082320f2a71875913247c
            archive: .buildcache/archives/00-base-c6cdf1b224722d2520e082320f2a71875913247c.tar.gz
      circleci:
        CACHE_KEY_PREFIX_LIST:
          - ui-dependencies_1b62_{{checksum ".buildcache/cache-keys/ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17"}}
          - install-yarn_8416_{{checksum ".buildcache/cache-keys/install-yarn-841661371841438326b045be1fbefa82cef8e90c"}}
          - set-workdir_b283_{{checksum ".buildcache/cache-keys/set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc"}}
          - install-go-tools_92f8_{{checksum ".buildcache/cache-keys/install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec"}}
          - install-go_513f_{{checksum ".buildcache/cache-keys/install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8"}}
          - base_c6cd_{{checksum ".buildcache/cache-keys/base-c6cdf1b224722d2520e082320f2a71875913247c"}}
    childcount: 1
  - depth: 6
    final: false
    type: build-ui
    id: 26f5264dcd97eb09701528b3a7e55c2b319384ce
    name: 06-build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce
    parentname: 05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17
    parenttype: ui-dependencies
    parentid: 1b62521b37dfa9993be3ff98c16705b16a4e0c17
    cachekeyfile: .buildcache/cache-keys/build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce
    sourceinclude: ui/
    sourceexclude: ""
    archivefile: .buildcache/archives/06-build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce.tar.gz
    dockerfile: |-
      # syntax=docker.mirror.hashicorp.services/docker/dockerfile:1.1.7-experimental
      ARG BASE_IMAGE
      FROM $BASE_IMAGE
      COPY . ./
      RUN { while true; do sleep 30; echo keepalive; done; } & cd ui && yarn --verbose run build
    meta:
      builtin:
        LAYER_LIST:
          - type: build-ui
            name: 06-build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce
            archive: .buildcache/archives/06-build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce.tar.gz
          - type: ui-dependencies
            name: 05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17
            archive: .buildcache/archives/05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17.tar.gz
          - type: install-yarn
            name: 04-install-yarn-841661371841438326b045be1fbefa82cef8e90c
            archive: .buildcache/archives/04-install-yarn-841661371841438326b045be1fbefa82cef8e90c.tar.gz
          - type: set-workdir
            name: 03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc
            archive: .buildcache/archives/03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc.tar.gz
          - type: install-go-tools
            name: 02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
            archive: .buildcache/archives/02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec.tar.gz
          - type: install-go
            name: 01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8
            archive: .buildcache/archives/01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8.tar.gz
          - type: base
            name: 00-base-c6cdf1b224722d2520e082320f2a71875913247c
            archive: .buildcache/archives/00-base-c6cdf1b224722d2520e082320f2a71875913247c.tar.gz
      circleci:
        CACHE_KEY_PREFIX_LIST:
          - build-ui_26f5_{{checksum ".buildcache/cache-keys/build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce"}}
          - ui-dependencies_1b62_{{checksum ".buildcache/cache-keys/ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17"}}
          - install-yarn_8416_{{checksum ".buildcache/cache-keys/install-yarn-841661371841438326b045be1fbefa82cef8e90c"}}
          - set-workdir_b283_{{checksum ".buildcache/cache-keys/set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc"}}
          - install-go-tools_92f8_{{checksum ".buildcache/cache-keys/install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec"}}
          - install-go_513f_{{checksum ".buildcache/cache-keys/install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8"}}
          - base_c6cd_{{checksum ".buildcache/cache-keys/base-c6cdf1b224722d2520e082320f2a71875913247c"}}
    childcount: 1
  - depth: 7
    final: false
    type: build-static-assets
    id: 10fc1249063de7bd9a8a6152020abbf7b4f10be9
    name: 07-build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9
    parentname: 06-build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce
    parenttype: build-ui
    parentid: 26f5264dcd97eb09701528b3a7e55c2b319384ce
    cachekeyfile: .buildcache/cache-keys/build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9
    sourceinclude: Makefile
    sourceexclude: ""
    archivefile: .buildcache/archives/07-build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9.tar.gz
    dockerfile: |-
      # syntax=docker.mirror.hashicorp.services/docker/dockerfile:1.1.7-experimental
      ARG BASE_IMAGE
      FROM $BASE_IMAGE
      COPY . ./
      RUN go-bindata-assetfs -o bindata_assetfs.go -pkg http -prefix pkg -modtime 1480000000 -tags ui ./pkg/web_ui/...
      RUN mkdir -p http && mv bindata_assetfs.go http/
      RUN goimports -w http/bindata_assetfs.go
    meta:
      builtin:
        LAYER_LIST:
          - type: build-static-assets
            name: 07-build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9
            archive: .buildcache/archives/07-build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9.tar.gz
          - type: build-ui
            name: 06-build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce
            archive: .buildcache/archives/06-build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce.tar.gz
          - type: ui-dependencies
            name: 05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17
            archive: .buildcache/archives/05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17.tar.gz
          - type: install-yarn
            name: 04-install-yarn-841661371841438326b045be1fbefa82cef8e90c
            archive: .buildcache/archives/04-install-yarn-841661371841438326b045be1fbefa82cef8e90c.tar.gz
          - type: set-workdir
            name: 03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc
            archive: .buildcache/archives/03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc.tar.gz
          - type: install-go-tools
            name: 02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
            archive: .buildcache/archives/02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec.tar.gz
          - type: install-go
            name: 01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8
            archive: .buildcache/archives/01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8.tar.gz
          - type: base
            name: 00-base-c6cdf1b224722d2520e082320f2a71875913247c
            archive: .buildcache/archives/00-base-c6cdf1b224722d2520e082320f2a71875913247c.tar.gz
      circleci:
        CACHE_KEY_PREFIX_LIST:
          - build-static-assets_10fc_{{checksum ".buildcache/cache-keys/build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9"}}
          - build-ui_26f5_{{checksum ".buildcache/cache-keys/build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce"}}
          - ui-dependencies_1b62_{{checksum ".buildcache/cache-keys/ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17"}}
          - install-yarn_8416_{{checksum ".buildcache/cache-keys/install-yarn-841661371841438326b045be1fbefa82cef8e90c"}}
          - set-workdir_b283_{{checksum ".buildcache/cache-keys/set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc"}}
          - install-go-tools_92f8_{{checksum ".buildcache/cache-keys/install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec"}}
          - install-go_513f_{{checksum ".buildcache/cache-keys/install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8"}}
          - base_c6cd_{{checksum ".buildcache/cache-keys/base-c6cdf1b224722d2520e082320f2a71875913247c"}}
    childcount: 1
  - depth: 8
    final: false
    type: go-modules
    id: b46a16e3e288e060c137a6b575c3d4076b8858d2
    name: 08-go-modules-b46a16e3e288e060c137a6b575c3d4076b8858d2
    parentname: 07-build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9
    parenttype: build-static-assets
    parentid: 10fc1249063de7bd9a8a6152020abbf7b4f10be9
    cachekeyfile: .buildcache/cache-keys/go-modules-b46a16e3e288e060c137a6b575c3d4076b8858d2
    sourceinclude: go.mod go.sum */go.mod */go.sum
    sourceexclude: ""
    archivefile: .buildcache/archives/08-go-modules-b46a16e3e288e060c137a6b575c3d4076b8858d2.tar.gz
    dockerfile: |
      # syntax=docker.mirror.hashicorp.services/docker/dockerfile:1.1.7-experimental
      ARG BASE_IMAGE
      FROM $BASE_IMAGE
      COPY . ./
      ENV GO111MODULE=on
      RUN go mod download
    meta:
      builtin:
        LAYER_LIST:
          - type: go-modules
            name: 08-go-modules-b46a16e3e288e060c137a6b575c3d4076b8858d2
            archive: .buildcache/archives/08-go-modules-b46a16e3e288e060c137a6b575c3d4076b8858d2.tar.gz
          - type: build-static-assets
            name: 07-build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9
            archive: .buildcache/archives/07-build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9.tar.gz
          - type: build-ui
            name: 06-build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce
            archive: .buildcache/archives/06-build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce.tar.gz
          - type: ui-dependencies
            name: 05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17
            archive: .buildcache/archives/05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17.tar.gz
          - type: install-yarn
            name: 04-install-yarn-841661371841438326b045be1fbefa82cef8e90c
            archive: .buildcache/archives/04-install-yarn-841661371841438326b045be1fbefa82cef8e90c.tar.gz
          - type: set-workdir
            name: 03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc
            archive: .buildcache/archives/03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc.tar.gz
          - type: install-go-tools
            name: 02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
            archive: .buildcache/archives/02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec.tar.gz
          - type: install-go
            name: 01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8
            archive: .buildcache/archives/01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8.tar.gz
          - type: base
            name: 00-base-c6cdf1b224722d2520e082320f2a71875913247c
            archive: .buildcache/archives/00-base-c6cdf1b224722d2520e082320f2a71875913247c.tar.gz
      circleci:
        CACHE_KEY_PREFIX_LIST:
          - go-modules_b46a_{{checksum ".buildcache/cache-keys/go-modules-b46a16e3e288e060c137a6b575c3d4076b8858d2"}}
          - build-static-assets_10fc_{{checksum ".buildcache/cache-keys/build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9"}}
          - build-ui_26f5_{{checksum ".buildcache/cache-keys/build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce"}}
          - ui-dependencies_1b62_{{checksum ".buildcache/cache-keys/ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17"}}
          - install-yarn_8416_{{checksum ".buildcache/cache-keys/install-yarn-841661371841438326b045be1fbefa82cef8e90c"}}
          - set-workdir_b283_{{checksum ".buildcache/cache-keys/set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc"}}
          - install-go-tools_92f8_{{checksum ".buildcache/cache-keys/install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec"}}
          - install-go_513f_{{checksum ".buildcache/cache-keys/install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8"}}
          - base_c6cd_{{checksum ".buildcache/cache-keys/base-c6cdf1b224722d2520e082320f2a71875913247c"}}
    childcount: 1
  - depth: 9
    final: true
    type: copy-source
    id: f49cce6acaba0ad2a431d8b3773a5c9bceff462b
    name: 09-copy-source-f49cce6acaba0ad2a431d8b3773a5c9bceff462b
    parentname: 08-go-modules-b46a16e3e288e060c137a6b575c3d4076b8858d2
    parenttype: go-modules
    parentid: b46a16e3e288e060c137a6b575c3d4076b8858d2
    cachekeyfile: .buildcache/cache-keys/copy-source-f49cce6acaba0ad2a431d8b3773a5c9bceff462b
    sourceinclude: '*.go'
    sourceexclude: ""
    archivefile: .buildcache/archives/09-copy-source-f49cce6acaba0ad2a431d8b3773a5c9bceff462b.tar.gz
    dockerfile: |
      # syntax=docker.mirror.hashicorp.services/docker/dockerfile:1.1.7-experimental
      ARG BASE_IMAGE
      FROM $BASE_IMAGE
      COPY . ./
    meta:
      builtin:
        LAYER_LIST:
          - type: copy-source
            name: 09-copy-source-f49cce6acaba0ad2a431d8b3773a5c9bceff462b
            archive: .buildcache/archives/09-copy-source-f49cce6acaba0ad2a431d8b3773a5c9bceff462b.tar.gz
          - type: go-modules
            name: 08-go-modules-b46a16e3e288e060c137a6b575c3d4076b8858d2
            archive: .buildcache/archives/08-go-modules-b46a16e3e288e060c137a6b575c3d4076b8858d2.tar.gz
          - type: build-static-assets
            name: 07-build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9
            archive: .buildcache/archives/07-build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9.tar.gz
          - type: build-ui
            name: 06-build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce
            archive: .buildcache/archives/06-build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce.tar.gz
          - type: ui-dependencies
            name: 05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17
            archive: .buildcache/archives/05-ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17.tar.gz
          - type: install-yarn
            name: 04-install-yarn-841661371841438326b045be1fbefa82cef8e90c
            archive: .buildcache/archives/04-install-yarn-841661371841438326b045be1fbefa82cef8e90c.tar.gz
          - type: set-workdir
            name: 03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc
            archive: .buildcache/archives/03-set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc.tar.gz
          - type: install-go-tools
            name: 02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec
            archive: .buildcache/archives/02-install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec.tar.gz
          - type: install-go
            name: 01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8
            archive: .buildcache/archives/01-install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8.tar.gz
          - type: base
            name: 00-base-c6cdf1b224722d2520e082320f2a71875913247c
            archive: .buildcache/archives/00-base-c6cdf1b224722d2520e082320f2a71875913247c.tar.gz
      circleci:
        CACHE_KEY_PREFIX_LIST:
          - copy-source_f49c_{{checksum ".buildcache/cache-keys/copy-source-f49cce6acaba0ad2a431d8b3773a5c9bceff462b"}}
          - go-modules_b46a_{{checksum ".buildcache/cache-keys/go-modules-b46a16e3e288e060c137a6b575c3d4076b8858d2"}}
          - build-static-assets_10fc_{{checksum ".buildcache/cache-keys/build-static-assets-10fc1249063de7bd9a8a6152020abbf7b4f10be9"}}
          - build-ui_26f5_{{checksum ".buildcache/cache-keys/build-ui-26f5264dcd97eb09701528b3a7e55c2b319384ce"}}
          - ui-dependencies_1b62_{{checksum ".buildcache/cache-keys/ui-dependencies-1b62521b37dfa9993be3ff98c16705b16a4e0c17"}}
          - install-yarn_8416_{{checksum ".buildcache/cache-keys/install-yarn-841661371841438326b045be1fbefa82cef8e90c"}}
          - set-workdir_b283_{{checksum ".buildcache/cache-keys/set-workdir-b283f2d1b935f6393c81b9212febb9d46fe06ddc"}}
          - install-go-tools_92f8_{{checksum ".buildcache/cache-keys/install-go-tools-92f8ab040fee3f3939d07b7bd4d4d6626892b8ec"}}
          - install-go_513f_{{checksum ".buildcache/cache-keys/install-go-513f2a338cda5459ba6af9c19726ca6a5e5f77d8"}}
          - base_c6cd_{{checksum ".buildcache/cache-keys/base-c6cdf1b224722d2520e082320f2a71875913247c"}}
    childcount: 0
